<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0"><channel><title>Glitzersachen.de (make)</title><link>http://www.glitzersachen.de</link><description></description><language>en</language><lastBuildDate>Mon, 26 May 2014 19:53:28 GMT</lastBuildDate><generator>http://getnikola.com/</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Better deactivate the Linking Rule %: %.o in Makefiles</title><link>http://www.glitzersachen.de/posts/techtipps/make-deactivate-object-to-exe-rule.html</link><dc:creator>M E Leypold</dc:creator><description>&lt;div&gt;&lt;p&gt;Make has built-in rules to translate from C and C++ source to object files, to link object
files to executables, but also a rule to compile from C and C++ source directly into an
executable:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;%.o: %.c:  $(CC)  -c $(CPPFLAGS) $(CFLAGS)&lt;/span&gt;
&lt;span class="c"&gt;%.o: %.cc: $(CXX) -c $(CPPFLAGS) $(CXXFLAGS)&lt;/span&gt;
&lt;span class="c"&gt;%:   %.o:  $(CC) $(LDFLAGS) N.o $(LOADLIBES) $(LDLIBS)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;(This is what the &lt;em&gt;Gnu Make Manual&lt;/em&gt; documents). In more complex makefiles it's not always
evident, which path of translation will be chosen. It might be either of&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="n"&gt;foo&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt; &lt;span class="o"&gt;--&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;foo&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt; &lt;span class="o"&gt;--&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;foo&lt;/span&gt;
&lt;span class="n"&gt;foo&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt; &lt;span class="o"&gt;--&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;foo&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;With C source this is not a problem, but with C++ it is: One &lt;a href="http://www.parashift.com/c++-faq/overview-mixing-langs.html"&gt;should not use the C
compiler to link C++ programs&lt;/a&gt;. There is more than one way to fix this
problem, but I recommend (for reasons given below) to deactivate the built-in &lt;em&gt;'%: %.o'&lt;/em&gt;
rule, like this:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;%: %.o # deactivate built-in rule&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p class="more"&gt;&lt;a href="http://www.glitzersachen.de/posts/techtipps/make-deactivate-object-to-exe-rule.html"&gt;Read moreâ€¦&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description><category>blog</category><category>en</category><category>make</category><category>techtip</category><guid>http://www.glitzersachen.de/posts/techtipps/make-deactivate-object-to-exe-rule.html</guid><pubDate>Wed, 04 Sep 2013 12:00:00 GMT</pubDate></item></channel></rss>